{% extends 'GestionBundle::main.html.twig' %}

{% block contenido %}

<div class="page-wrapper">
  <div class="content">
  <script type="text/javascript">
    function actualizarIdPlanta(id) {
          $('input[name=idPlanta]').val(id);
        }
  </script>

  <br>
  <h2>&nbsp;&nbsp;{% trans %}listado_plantas{% endtrans %}</h2>
  <br>

  <br>
  <a class="btn btn-success" href="{{ path('app_create_planta')}}"> + {% trans %}aniadir{% endtrans %} {% trans %}planta{% endtrans %}</a>
  <br>
  <br>

  <form method="post" enctype="multipart/form-data" name="nuevo_menu" id="nuevo_menu">
      <table class="table table-sm">
        <thead>
          <tr>
            <th scope="col"><strong>{% trans %}plantas{% endtrans %}</strong></th>
            <th scope="col"></th>
            <th scope="col"></th>
            <th scope="col"></th>
            <th scope="col"></th>
          </tr>
        </thead>
        <tbody>
        {% for planta in plantas %}
          <tr>
            <td class="align-middle">{{planta.nombre}}</td>
            <td></td>
            <td></td>
            <td width="40%">
              <button type="submit" class="btn btn-success waves-effect waves-light" onclick ="actualizarIdPlanta({{planta.id}});this.form.action = '{{ path('app_details_planta')}}'"/>{% trans %}ver{% endtrans %}</button>
              <button type="submit" class="btn btn-secondary waves-effect waves-light" onclick ="actualizarIdPlanta({{planta.id}});this.form.action = '{{ path('app_edit_planta')}}'"/>{% trans %}editar{% endtrans %}</button>
              <button type="button" class="btn btn-danger waves-effect waves-light" data-toggle="modal"  data-target = "#modalConfirmDelete" onclick ="actualizarIdPlanta({{planta.id}})">{% trans %}eliminar{% endtrans %}</button>
              </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    <input type="hidden" name='idPlanta' id="idPlanta"  value="">

    <!--Modal: modalConfirmDelete-->
  <div class="modal fade" id="modalConfirmDelete" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-sm modal-notify modal-danger" role="document">
      <!--Content-->
      <div class="modal-content text-center">
        <!--Header-->
        <div class="modal-header d-flex justify-content-center">
          <p class="heading">{% trans %}eliminar?{% endtrans %}</p>
        </div>

        <!--Body-->
        <div class="modal-body">

          <i class="fas fa-times fa-4x animated rotateIn"></i>

        </div>

        <!--Footer-->
        <div class="modal-footer justify-content-center">
          <input type="submit" class="btn  btn-outline-danger" value="{% trans %}si{% endtrans %}" onclick ="this.form.action = '{{ path('app_delete_planta')}}'"/>
          <a type="button" class="btn  btn-danger waves-effect" data-dismiss="modal">No</a>
        </div>
      </div>
      <!--/.Content-->
    </div>
  </div>
  <!--Modal: modalConfirmDelete-->

  </form>

  <br>
  <br>
</div>
</div>
<script type="text/javascript"> 
  $(document).ready(function() { 
   
  });
</script>
</div>
{% endblock %}